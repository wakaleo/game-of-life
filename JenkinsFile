pipeline{
    agent {label 'jdk8'}
    options { timeout(time: 1, unit: 'HOURS')
               retry(2)
            }
    triggers {
        cron('0 * * * *')
              }
   stages{
       stage('source code'){
           steps{
        git url:'https://github.com/gopidevopss/game-of-life.git',
            branch: 'sprint2'
           }
       }
       stage('build the package'){
           steps{
           sh script: 'mvn clean package'
           }
       }

       stage('reporting'){
           steps{
           junit testResults: '**/surefire-reports/*.xml'
           }
       }
   }

   post{
     success{ echo "success"}
     unsuccessful { echo "failure"}
   }
}